"""
Generated from evaluation-response.yaml
DO NOT EDIT THIS FILE DIRECTLY - Edit the source YAML instead

Generated by: shared/scripts/generate-python-types.py
Source: shared/types/evaluation-response.yaml
"""

from datetime import datetime
from typing import Optional, Dict, Any, List
from pydantic import BaseModel, Field
from .evaluation_status import EvaluationStatus


class EvaluationResponse(BaseModel):
    """Complete evaluation data including code, status, and results"""
    eval_id: str = Field(...)
    code: Optional[str] = Field(None, description="The code that was evaluated")
    language: Optional[str] = Field("python", description="Programming language used")
    status: EvaluationStatus = Field(...)
    created_at: Optional[datetime] = Field(None, description="When the evaluation was created")
    started_at: Optional[datetime] = Field(None, description="When execution started")
    completed_at: Optional[datetime] = Field(None, description="When execution completed")
    output: Optional[str] = Field(None, description="Standard output from the evaluation")
    error: Optional[str] = Field(None, description="Standard error or error messages")
    exit_code: Optional[int] = Field(None, description="Process exit code")
    runtime_ms: Optional[int] = Field(None, description="Execution time in milliseconds")
    memory_used_mb: Optional[int] = Field(None, description="Peak memory usage in megabytes")
    output_truncated: Optional[bool] = Field(False, description="Whether output was truncated due to size")
    error_truncated: Optional[bool] = Field(False, description="Whether error was truncated due to size")
    metadata: Optional[Dict[str, Any]] = Field(default_factory=dict)


class EvaluationSummary(BaseModel):
    """Summary view of evaluation for listing"""
    eval_id: str = Field(...)
    status: EvaluationStatus = Field(...)
    created_at: datetime = Field(...)
    runtime_ms: Optional[int] = Field(None, description="Execution time in milliseconds")
    exit_code: Optional[int] = Field(None, description="Process exit code")

